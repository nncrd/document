<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8"/>
    <script src="qrcode.js"></script>
    <style>
        #qrcode{
            /*text-align: center;*/
            /*display: table-cell;*/
            /*width: 96px;*/
            /*height: 96px;*/
            /*vertical-align:middle;*/
            /*position: relative;*/
        }
    </style>
</head>
<body>
<div id="qrcode">
<img id="x" src="" />
</div>

<input type="text" id="getval"/> <button id="send">点击更换验证码</button>
<script>
    window.onload =function(){
        var qrcode = new QRCode(document.getElementById("qrcode"), {
            width : 96,//设置宽高
            height : 96
        });
        qrcode.makeCode("http://www.baidu.com");
        document.getElementById("send").onclick =function(){
            qrcode.makeCode(document.getElementById("getval").value);
        }





var x0 = "%47%49%46%38%39%61%10%00%10%00%B3%00%00%00%00%00%FF%FF%FF%E9%E9%E9%E2%E2%E2%DB%DB%DB%CC%CC%CC%BE%BE%BE%A1%A1%A1%91%91%91%73%73%73%61%61%61%50%50%50%43%43%43%FF%FF%FF%00%00%00%00%00%00%21%F9%04%01%00%00%0D%00%2C%00%00%00%00%10%00%10%00%00%04%42%B0%C9%49%AB%6D%2B%DF%BA%C4%20%CB%26%2D%41%B6%18%E1%D6%85%67%7A%AD%18%E2%5A%66%AD%06%78%5E%BE%42%E1%FB%87%D9%A4%53%50%18%0B%41%5E%21%A1%48%20%85%A3%5E%11%08%C5%28%0E%58%2C%A3%8A%A9%69%44%E0%B0%25%02%00%3B";
var Base64 = { cs: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" };
Base64.encode = function(src) {
    var buf = [];
    src = src.replace(/%([\da-f]{2})%([\da-f]{2})%([\da-f]{2})/ig, function($0, $1, $2, $3) {
        $1 = parseInt($1, 16);
        $2 = parseInt($2, 16);
        $3 = parseInt($3, 16);
        buf.push(Base64.cs.charAt(    $1 >> 2                ));
        buf.push(Base64.cs.charAt(    (($1<<4)|($2>>4)) & 0x3f    ));
        buf.push(Base64.cs.charAt(    (($2<<2)|($3>>6)) & 0x3f    ));
        buf.push(Base64.cs.charAt(    $3 & 0x3f            ));
        return "";
    });
    src = src.replace(/%([\da-f]{2})(?:%([\da-f]{2}))?/ig, function($0, $1, $2) {
        $1 = parseInt($1, 16);
        buf.push(Base64.cs.charAt( $1 >> 2 ));
        if (typeof $2 == "undefined") {
            buf.push(Base64.cs.charAt(    (($1<<4)|(0>>4))&0x3f    ));
            buf.push("==");
        } else {
            $2 = parseInt($2, 16);
            buf.push(Base64.cs.charAt(    (($1<<4)|($2>>4))&0x3f    ));
            buf.push(Base64.cs.charAt(    (($2<<2)|(0>>6))&0x3f    ));
            buf.push("=");
        }
    });
    return buf.join("");
};
 
var bcode = Base64.encode(x0);
document.getElementById("x").src = "data:image/gif;base64," + bcode;
    }


</script>
</body>
</html>